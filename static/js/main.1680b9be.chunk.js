(this.webpackJsonpnodeapp=this.webpackJsonpnodeapp||[]).push([[0],{26:function(t,e,a){},34:function(t,e,a){},35:function(t,e,a){"use strict";a.r(e);var s=a(1),n=a.n(s),i=a(20),r=a.n(i),o=(a(26),a(6)),c=a(7),d=a(11),l=a(10),u=a(8),h=a(0),j=function(t){Object(d.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))).setStudentTags=t.props.tagsSetter,t.allTags=t.props.allTags,t.state={suggestions:[],areSuggestionsVisible:!1,addedTags:null==t.props.addedTags?[]:t.props.addedTags,newTagValue:""},t.removeTag=function(e){var a=Object(u.a)(t.state.addedTags);a.splice(e,1),t.setStudentTags(a),t.setState({addedTags:a})},t.onChange=function(e){var a=t.props.allTags,s=e.target.value,n=a.filter((function(t){return t.toLowerCase().indexOf(s.toLowerCase())>-1})),i=!!s;t.setState({newTagValue:s,suggestions:n,areSuggestionsVisible:i})},t.onInputKeyDown=function(e){var a=e.target.value;if("Enter"===e.key&&a){if(t.state.addedTags.find((function(t){return t.toLowerCase()===a.toLowerCase()})))return;t.setStudentTags([].concat(Object(u.a)(t.state.addedTags),[a])),t.setState({addedTags:t.state.addedTags.concat(a),newTagValue:""})}},t.onSuggestionClick=function(e){var a=e.currentTarget.innerText;t.state.addedTags.find((function(t){return t.toLowerCase()===a.toLowerCase()}))||(t.setStudentTags([].concat(Object(u.a)(t.state.addedTags),[a])),t.setState({areSuggestionsVisible:!1,newTagValue:"",addedTags:t.state.addedTags.concat(a)}))},t}return Object(c.a)(a,[{key:"render",value:function(){var t=this,e=this.state.addedTags.map((function(e,a){return Object(h.jsxs)("li",{children:[e,Object(h.jsx)("button",{className:"btn btn-primary",onClick:function(){t.removeTag(a)},children:"+"})]},e.hashCode())})),a=this.state.suggestions.map((function(e){return Object(h.jsx)("li",{onClick:t.onSuggestionClick,className:"dropdown-item list-group-item list-group-item-action",children:e},e.hashCode())}));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("ul",{className:"tag-input",children:e}),Object(h.jsx)("input",{className:"form-control",value:this.state.newTagValue,placeholder:"Tagi",onChange:this.onChange,onKeyDown:this.onInputKeyDown,type:"text"}),this.state.areSuggestionsVisible&&Object(h.jsx)("ul",{className:"list-group",children:a})]})}}]),a}(n.a.Component),g=function(t){Object(d.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))).parentFilterFunction=t.props.filterFunction,t.state={tagsSet:!1,descSet:!1},t.onSetTag=function(e){Object(u.a)(t.props.students);var a=!1;t.state.setDesc&&Object(u.a)(t.props.filteredStudents);var s=Object(u.a)(t.props.students).filter((function(t){return e.every((function(e){return t.tags.includes(e)}))}));t.parentFilterFunction(s),0!=e.length&&(a=!0),t.setState({tagsSet:a})},t.onDescTextChanged=function(e){var a=Object(u.a)(t.props.students),s=!1;t.state.tagsSet&&(a=Object(u.a)(t.props.filteredStudents));var n=e.target.value,i=a.filter((function(t){return t.description.toLowerCase().indexOf(n.toLowerCase())>-1}));t.parentFilterFunction(i),e.target.value&&(s=!0),t.setState({descSet:s})},t}return Object(c.a)(a,[{key:"render",value:function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Wyszukaj po tagach"}),Object(h.jsx)(j,{tagsSetter:this.onSetTag,set:!0,allTags:this.props.allTags})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Wyszukaj w opisie"}),Object(h.jsx)("input",{className:"form-control",type:"text",onChange:this.onDescTextChanged,placeholder:"wyszukiwanie"})]})]})}}]),a}(n.a.Component),p=function(){function t(e,a,s,n,i){Object(o.a)(this,t),this.name=e,this.description=a,this.email=s,this.tags=n,this.createDate=i}return Object(c.a)(t,[{key:"hashCode",value:function(){return(this.name+this.createDate+this.description).hashCode()}}],[{key:"fromJSON",value:function(e){return new t(e.name,e.description,e.email,e.tags,e.createDate)}}]),t}();p.prototype.toString=function(){return this.name};var b=p,f=a(2);String.prototype.hashCode=function(){var t=0;if(0==this.length)return t;for(var e=0;e<this.length;e++){t=(t<<5)-t+this.charCodeAt(e),t&=t}return t},Array.prototype.inArray=function(t){for(var e=0;e<this.length;e++)if(t(this[e]))return!0;return!1},Array.prototype.pushIfNotExist=function(t,e){this.inArray(e)||this.push(t)};var m=function(t){Object(d.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))).studentToEdit=t.props.student,t.addStudent=t.props.onParentAddStudent,t.editStudent=t.props.onParentEditStudent,t.addTag=t.props.onParentAddTag,t.state={name:null==t.studentToEdit?"":t.studentToEdit.name,description:null==t.studentToEdit?"":t.studentToEdit.description,email:null==t.studentToEdit?"":t.studentToEdit.email,tags:null==t.studentToEdit?[]:t.studentToEdit.tags,allTags:["Docker","React","Java",".NET"],isNameEmpty:!1,isDescriptionEmpty:!1,isEmailEmpty:!1},t.onAddStudent=function(e){t.props.history;var a=new b(t.state.name,t.state.description,t.state.email,t.state.tags,Date.now());if(t.state.name&&t.state.description&&t.state.email){var s=window.location.href.split("/"),n=s[0]+"//"+s[2],i=Object(f.f)("/edit/:hash",{hash:a.hashCode()});alert("Dodano og\u0142oszenie\nTw\xf3j link do edycji to:\n"+n+i),null==t.studentToEdit?t.addStudent(a):t.editStudent(a,t.studentToEdit.hashCode()),t.setState({redirect:"/"})}},t.onNameChanged=function(e){t.state.isNameEmpty=!1,t.setState({name:e.target.value})},t.onDescriptionChanged=function(e){t.state.isDescriptionEmpty=!1,t.setState({description:e.target.value})},t.onEmailChanged=function(e){t.state.isEmailEmpty=!1,t.setState({email:e.target.value})},t.setStudentTags=function(e){for(var a=Object(u.a)(t.state.allTags),s=function(t){a.pushIfNotExist(e[t],(function(a){return a===e[t]}))},n=0;n<e.length;n++)s(n);t.addTag(a),t.setState({tags:e,allTags:a})},t}return Object(c.a)(a,[{key:"render",value:function(){return this.state.redirect?Object(h.jsx)(f.a,{to:this.state.redirect}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col-sm-12 add",children:[Object(h.jsx)("h2",{children:"Dodawanie nowego studenta"}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{className:"form-control",type:"text",value:this.state.name,onChange:this.onNameChanged,placeholder:"Imi\u0119"})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{className:"form-control",type:"text",value:this.state.description,onChange:this.onDescriptionChanged,placeholder:"Opis"})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("input",{className:"form-control",type:"text",value:this.state.email,onChange:this.onEmailChanged,placeholder:"Email"})}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)(j,{addedTags:this.state.tags,tagsSetter:this.setStudentTags,allTags:this.state.allTags})}),Object(h.jsx)("button",{className:"btn btn-primary",onClick:this.onAddStudent,children:"Dodaj og\u0142oszenie"})]})})})}}]),a}(n.a.Component),O=function(t){var e=t.data.tags.map((function(t){return Object(h.jsx)("li",{className:"list-inline-item list-group-item-primary",children:t},t.hashCode())}));return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"student",children:[Object(h.jsx)("h3",{children:t.data.name}),Object(h.jsx)("h5",{children:t.data.email}),Object(h.jsx)("p",{children:t.data.description}),Object(h.jsx)("ul",{className:"list-inline",children:e})]})})},v=function(t){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:["Odnaleziono: ",t.found," student\xf3w"]})})})},x=function(t){Object(d.a)(a,t);var e=Object(l.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var t=this.props.filteredList.map((function(t){return Object(h.jsx)(O,{data:t},t.hashCode())}));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"row find",children:[Object(h.jsx)("div",{className:"col-sm-9",children:Object(h.jsx)(g,{students:this.props.students,filteredStudents:this.props.filteredList,filterFunction:this.props.filterFunction,allTags:this.props.allTags})}),Object(h.jsx)("div",{className:"col-sm-3 align-self-center",children:Object(h.jsx)(v,{found:this.props.filteredList.length})})]}),Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{className:"col-sm-12",children:[Object(h.jsx)("h2",{children:"Aktualne og\u0142oszenia"}),t]})})]})}}]),a}(n.a.Component),T=a(14),S=(a(33),new b("Adam Nowak","It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters","test@test.com",["Docker"],Date.now())),y=new b("Magdalena Kowalska","biblioteka j\u0119zyka programowania JavaScript, kt\xf3ra wykorzystywana jest do tworzenia interfejs\xf3w graficznych aplikacji internetowych.","test2@test.com",["Docker","React"],Date.now()),w=new b("DotNetLover11oneone!","Litwo! Ojczyzno moja! ty jeste\u015b jak zdrowie: Ile ci\u0119 trzeba ceni\u0107, ten tylko si\u0119 dowie, Kto ci\u0119 straci\u0142.","test2@test.com",[".NET","React"],Date.now()),N=function(){var t=[],e=JSON.parse(sessionStorage.getItem("studentsList"));return null==e?t=[S,y,w]:e.forEach((function(e){t=t.concat(b.fromJSON(e))})),t},C=function(t){Object(d.a)(a,t);var e=Object(l.a)(a);function a(){var t;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))).state={studentsList:N(),filteredList:N(),allTags:JSON.parse(sessionStorage.getItem("tags"))},t.onAddStudent=function(e){t.setState({studentsList:t.state.studentsList.concat(e),filteredList:t.state.studentsList.concat(e)}),sessionStorage.setItem("studentsList",JSON.stringify(t.state.studentsList.concat(e)))},t.onEditStudent=function(e,a){var s=t.state.studentsList.find((function(t){return t.hashCode()==a})),n=t.state.studentsList.indexOf(s),i=t.state.studentsList;i[n]=e,n>-1&&t.setState({studentsList:i,filteredList:i}),sessionStorage.setItem("studentsList",JSON.stringify(i))},t.onAddTag=function(e){t.setState({allTags:e}),sessionStorage.setItem("tags",JSON.stringify(e))},t.filterStudents=function(e){t.setState({filteredList:e})},t}return Object(c.a)(a,[{key:"render",value:function(){var t=this;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(T.a,{children:[Object(h.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(h.jsx)("div",{className:"collapse navbar-collapse",children:Object(h.jsxs)("ul",{className:"navbar-nav",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(T.b,{className:"nav-link",to:"/",exact:!0,children:"Lista student\xf3w"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(T.b,{className:"nav-link",to:"/add-student",children:"Dodaj og\u0142oszenie studenta"})})]})})}),Object(h.jsxs)(f.d,{children:[Object(h.jsx)(f.b,{path:"/",exact:!0,children:Object(h.jsx)(x,{students:this.state.studentsList,filteredList:this.state.filteredList,filterFunction:this.filterStudents,allTags:this.state.allTags})}),Object(h.jsx)(f.b,{path:"/add-student",children:Object(h.jsx)(m,{onParentAddStudent:this.onAddStudent,onParentEditStudent:this.onEditStudent,onParentAddTag:this.onAddTag,allTags:this.state.allTags})}),Object(h.jsx)(f.b,{exact:!0,path:"/edit/:hash",render:function(e){return Object(h.jsx)(m,{student:t.state.studentsList.find((function(t){return t.hashCode()==e.match.params.hash})),onParentAddStudent:t.onAddStudent,onParentEditStudent:t.onEditStudent,onParentAddTag:t.onAddTag,allTags:t.state.allTags})}}),Object(h.jsx)(f.b,{children:Object(h.jsx)("h1",{children:"404 NOT FOUND"})})]})]})})}}]),a}(n.a.Component);var L=function(){return Object(h.jsx)(C,{})},k=(a(34),function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,36)).then((function(e){var a=e.getCLS,s=e.getFID,n=e.getFCP,i=e.getLCP,r=e.getTTFB;a(t),s(t),n(t),i(t),r(t)}))});r.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(L,{})}),document.getElementById("root")),k()}},[[35,1,2]]]);
//# sourceMappingURL=main.1680b9be.chunk.js.map